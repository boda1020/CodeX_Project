<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Text?>

<ScrollPane fitToWidth="true" fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
            style="-fx-background-color: #f8fafc; -fx-background: #f8fafc;"
            xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controller.ProfileStudentController">

    <VBox fx:id="mainContainer" alignment="CENTER" spacing="40"
          style="-fx-padding: 40; -fx-background-color: #f8fafc;">

        <!-- زر Back في الأعلى -->
        <HBox alignment="TOP_LEFT" style="-fx-padding: 0 0 20 0;">
            <Button fx:id="btnBack" text="← Back to Dashboard"
                    onAction="#handleBack"
                    onMouseEntered="#handleMouseEnter" onMouseExited="#handleMouseExit"
                    style="-fx-background-color: #262451; -fx-text-fill: white; -fx-font-weight: bold;
                           -fx-font-size: 16; -fx-background-radius: 25; -fx-padding: 12 30;
                           -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(38,36,81,0.2), 10, 0, 0, 3);"/>
        </HBox>

        <!-- الصورة والاسم -->
        <VBox alignment="CENTER" spacing="20" VBox.vgrow="NEVER">
            <!-- الدائرة مع النص في المنتصف -->
            <StackPane>
                <Circle fx:id="profileCircle" radius="90"
                        style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 25, 0.3, 0, 12);"/>
                <Text fx:id="profileInitials" style="-fx-font-size: 48; -fx-font-weight: bold; -fx-fill: white;"/>
            </StackPane>

            <Label fx:id="studentNameLabel" text="Ahmed Mohamed"
                   style="-fx-font-size: 32; -fx-font-weight: bold; -fx-text-fill: #262451;"/>

            <Label fx:id="studentEmailLabel" text="ahmed.mohamed@university.edu.eg"
                   style="-fx-font-size: 18; -fx-text-fill: #64748b;"/>

            <Button fx:id="btnChangePhoto" text="Change Photo"
                    onAction="#handleChangePhoto"
                    onMouseEntered="#handleMouseEnter" onMouseExited="#handleMouseExit"
                    style="-fx-background-color: transparent; -fx-text-fill: #262451; -fx-font-weight: bold;
                           -fx-border-color: #262451; -fx-border-width: 2; -fx-border-radius: 30;
                           -fx-padding: 12 35; -fx-cursor: hand; -fx-font-size: 15;"/>
        </VBox>

        <!-- الكارت الأبيض -->
        <VBox style="-fx-background-color: white; -fx-background-radius: 28;
                    -fx-padding: 50; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.16), 28, 0.22, 0, 14);
                    -fx-border-color: #262451; -fx-border-radius: 28; -fx-border-width: 2.5;"
              spacing="35" maxWidth="900" VBox.vgrow="NEVER">

            <Label text="Profile Information"
                   style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #262451;"/>

            <GridPane hgap="30" vgap="22" prefWidth="700">
                <columnConstraints>
                    <ColumnConstraints percentWidth="38" />
                    <ColumnConstraints percentWidth="62" />
                </columnConstraints>

                <Label text="Full Name" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #262451;" GridPane.rowIndex="0"/>
                <TextField fx:id="fullNameField" promptText="Enter your full name"
                           style="-fx-background-radius: 16; -fx-padding: 16; -fx-pref-height: 56; -fx-background-color: #f8fafc; -fx-font-size: 15;"
                           GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                <Label text="Student ID" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #262451;" GridPane.rowIndex="1"/>
                <TextField fx:id="studentIdField" promptText="Enter student ID"
                           style="-fx-background-radius: 16; -fx-padding: 16; -fx-pref-height: 56; -fx-background-color: #f8fafc; -fx-font-size: 15;"
                           GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                <Label text="Email" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #262451;" GridPane.rowIndex="2"/>
                <TextField fx:id="emailField" promptText="student@university.edu.eg"
                           style="-fx-background-radius: 16; -fx-padding: 16; -fx-pref-height: 56; -fx-background-color: #f8fafc; -fx-font-size: 15;"
                           GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                <Label text="Phone" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #262451;" GridPane.rowIndex="3"/>
                <TextField fx:id="phoneField" promptText="+20 1xxxxxxxxx"
                           style="-fx-background-radius: 16; -fx-padding: 16; -fx-pref-height: 56; -fx-background-color: #f8fafc; -fx-font-size: 15;"
                           GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                <Label text="Old Password" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #262451;" GridPane.rowIndex="4"/>
                <PasswordField fx:id="oldPassField" promptText="Enter old password"
                               style="-fx-background-radius: 16; -fx-padding: 16; -fx-pref-height: 56; -fx-background-color: #f8fafc; -fx-font-size: 15;"
                               GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                <Label text="New Password" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #262451;" GridPane.rowIndex="5"/>
                <PasswordField fx:id="newPassField" promptText="Enter new password"
                               style="-fx-background-radius: 16; -fx-padding: 16; -fx-pref-height: 56; -fx-background-color: #f8fafc; -fx-font-size: 15;"
                               GridPane.columnIndex="1" GridPane.rowIndex="5"/>

                <Label text="Confirm Password" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #262451;" GridPane.rowIndex="6"/>
                <PasswordField fx:id="confirmPassField" promptText="Confirm new password"
                               style="-fx-background-radius: 16; -fx-padding: 16; -fx-pref-height: 56; -fx-background-color: #f8fafc; -fx-font-size: 15;"
                               GridPane.columnIndex="1" GridPane.rowIndex="6"/>
            </GridPane>

            <HBox alignment="CENTER" spacing="30">
                <Button fx:id="saveButton" text="Save Changes"
                        onAction="#handleSaveChanges"
                        onMouseEntered="#handleMouseEnter" onMouseExited="#handleMouseExit"
                        style="-fx-background-color: #262451; -fx-text-fill: white; -fx-font-size: 17; -fx-font-weight: bold;
                               -fx-background-radius: 16; -fx-padding: 16 60; -fx-cursor: hand;"/>

                <Button fx:id="cancelButton" text="Cancel"
                        onAction="#handleCancel"
                        onMouseEntered="#handleMouseEnter" onMouseExited="#handleMouseExit"
                        style="-fx-background-color: #64748b; -fx-text-fill: white; -fx-font-size: 17; -fx-font-weight: bold;
                               -fx-background-radius: 16; -fx-padding: 16 55; -fx-cursor: hand;"/>
            </HBox>
        </VBox>
    </VBox>
</ScrollPane>